From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Matti Lehtimaki <matti.lehtimaki@gmail.com>
Date: Thu, 5 Nov 2020 20:50:40 +0200
Subject: [PATCH] (hybris) Add native buffer compat define.

Change-Id: Iaa50a8270fc822fa3aacec07a5dcdfc467752afe
---
 headers/media_plugin/media/hardware/HardwareAPI.h | 8 ++++++++
 1 file changed, 8 insertions(+)

diff --git a/headers/media_plugin/media/hardware/HardwareAPI.h b/headers/media_plugin/media/hardware/HardwareAPI.h
index ae0220a5ebfddde1286f59b1d5d6816313195499..5c334138e8c47a309205ef7a56852dd037167001 100644
--- a/headers/media_plugin/media/hardware/HardwareAPI.h
+++ b/headers/media_plugin/media/hardware/HardwareAPI.h
@@ -161,6 +161,14 @@ struct VideoNativeHandleMetadata {
 #endif
 };
 
+// Meta data buffer layout for passing a native_handle to codec
+// mer-hybris: 64-bit version used in conversion code for 32-bit OMX
+struct VideoNativeHandleMetadata_ptrSized {
+    MetadataBufferType eType;               // must be kMetadataBufferTypeNativeHandleSource
+
+    native_handle_t *pHandle;
+};
+
 // A pointer to this struct is passed to OMX_SetParameter() when the extension
 // index "OMX.google.android.index.prepareForAdaptivePlayback" is given.
 //
